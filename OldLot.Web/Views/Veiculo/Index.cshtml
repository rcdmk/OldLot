@model IEnumerable<OldLot.Web.ViewModels.VeiculoViewModel>
@{
    ViewBag.Title = "Coleção";
}

<div class="row">
    <div class="col-md-12">
        <h2>Coleção Atual</h2>

        <div class="well well-sm">
            @Html.ActionLink("Novo", "Incluir", "Veiculo", null, new { id = "btnIncluir", @class = "btn btn-primary" })
            @using (Html.BeginForm("Incluir", "Veiculo", FormMethod.Post, new { id = "frmIncluir", @class = "oculto" }))
            {
                <button id="btnCancelar" class="btn btn-danger">Cancelar</button>
            }
        </div>
        <div class="table-responsive">
            <table id="tbl" class="table table-striped table-responsive">
                <thead>
                    <tr class="active text-info">
                        <th>Nome</th>
                        <th>Fabricante</th>
                        <th>Tipo</th>
                        <th class="col-md-1 text-right">Ano</th>
                        <th class="col-md-1">&nbsp;</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Count() > 0)
                    {
                        foreach (var item in Model)
                        {
                            <tr>
                                <td>@Html.DisplayFor(mi => item.Nome)</td>
                                <td>@Html.DisplayFor(mi => item.Fabricante)</td>
                                <td>@Html.DisplayFor(mi => item.Tipo)</td>
                                <td class="text-right">@Html.DisplayFor(mi => item.Ano)</td>
                                <td class="text-center">
                                    <a href="@Url.Action("Visualizar", "Veiculo", new { id = item.Id })" title="visualizar"><i class="glyphicon glyphicon-eye-open text-primary"></i></a>
                                    <a href="@Url.Action("Alterar", "Veiculo", new { id = item.Id })" title="alterar"><i class="glyphicon glyphicon-edit text-success"></i></a>
                                    <a href="@Url.Action("Excluir", "Veiculo", new { id = item.Id })" title="visualizar"><i class="glyphicon glyphicon-trash text-danger"></i></a>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="5" class="text-muted text-center">Nenhum registro disponível.</td>
                        </tr>
                        }
                </tbody>
            </table>
            @section scripts
            {
                <script type="text/javascript">
                    $(function () {
                        var btnIncluir = $("#btnIncluir");
                        var frmIncluir = $("#frmIncluir");

                        btnIncluir.on("click", function (e) {
                            $(this).slideUp("fast");
                            frmIncluir.slideDown("fast");

                            e.preventDefault();
                        });

                        $("#btnCancelar").on("click", function (e) {
                            frmIncluir.slideUp("fast");
                            btnIncluir.slideDown("fast");

                            e.preventDefault();
                        });
                    });
                </script>
            }
        </div>
    </div>
</div>